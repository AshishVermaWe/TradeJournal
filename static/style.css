/* static/style.css */

/* --------------------------------------------------
   Theme Variables
-------------------------------------------------- */
:root {
  --bg:#f6f8fb;
  --fg:#0f172a;
  --muted:#5b6a83;
  --card:#ffffff;
  --accent:#f0792f;
  --accent-2:#ffb374;
  --border:#d9e2ec;
  --radius:10px;
  --sidebar-width:200px;

  --exec-buy: #0e9f6e;
  --exec-sell: #e11d48;
  --exec-partial: #94a3b8;

  --pos:#0f9a6b; /* profit green */
  --neg:#e11d48; /* loss red */

  --content-scale: 8.9; /* 890% expanded */

  /* Brand (your orange TradeJournal mark) */
  --brand: #f0792f;  /* extracted from your icon */
  --brand-contrast: #7c2d12;
}

html.light, body.light {
  --bg:#f6f8fb;
  --fg:#0f172a;
  --muted:#5b6a83;
  --card:#ffffff;
  --accent:#f0792f;
  --accent-2:#ffb374;
  --border:#d9e2ec;
  --exec-buy: #0e9f6e;
  --exec-sell: #e11d48;
  --exec-partial: #94a3b8;
}

/* --------------------------------------------------
   Base
-------------------------------------------------- */
*{box-sizing:border-box}
html,body{
  margin:0;padding:0;
  background:var(--bg);color:var(--fg);
  font:14px/1.6 "Inter","Segoe UI",system-ui,-apple-system,Roboto,Arial;
  scrollbar-gutter: stable both-edges; /* avoid width jumps */
}

body{
  position:relative;
  min-height:100vh;
  background:#f6f8fb;
}

body::before{
  content:"";
  position:fixed;
  inset:0;
  pointer-events:none;
  background:none;
  opacity:1;
  z-index:0;
}

body.light{ background:#f6f8fb; }
body.light::before{ background:none; }

/* Force a flat light canvas everywhere */
html, body, .app, .main{
  background-color:#f6f8fb !important;
  background-image:none !important;
}

/* --------------------------------------------------
   Layout
-------------------------------------------------- */
.app{
  display:grid;
  grid-template-columns: var(--sidebar-width) 1fr;
  min-height:100vh;
  background:#f6f8fb;
  transition: background-color .3s ease, color .3s ease;
}

/* Sidebar */
.sidebar{
  background: #ffffff;
  color: var(--fg);
  border-right: 1px solid #e2e8f0;
  padding: 16px 10px;
  display: flex;
  flex-direction: column;
  gap: 12px;
  height: 100vh;
  position: fixed;
  width: var(--sidebar-width);
  transition: width .3s ease, background-color .3s ease, border-color .3s ease, box-shadow .3s ease;
  z-index: 2;
  box-shadow: 0 4px 18px rgba(15,23,42,0.08);
}
.logo{font-weight:800;font-size:20px;position:relative;}
.logo span{color:var(--accent);}
.sidebar nav{display:flex;flex-direction:column;gap:8px;flex:1;}
.sidebar nav a{
  display:flex;align-items:center;gap:12px;
  padding:11px 12px;border-radius:12px;
  color:var(--muted);text-decoration:none;font-size:13px;
  transition: all .2s ease;
  background: transparent;
  border:1px solid transparent;
}
.sidebar nav a:hover,
.sidebar nav a.active{
  background: linear-gradient(180deg, #fdfdfd, #f3f6fb);
  color:var(--fg);
  border-color: #e2e8f0;
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.9), 0 6px 16px rgba(15,23,42,0.08);
}
.sidebar nav a.upload{
  background:linear-gradient(135deg, var(--accent), color-mix(in srgb, var(--accent-2) 70%, var(--accent) 30%));
  color:var(--bg);font-weight:700;margin-top:8px;box-shadow:0 8px 20px rgba(0,0,0,0.12);
  border:1px solid color-mix(in srgb, var(--accent) 30%, transparent);
}
.sidebar nav a svg{width:20px;height:20px;flex-shrink:0;}

.settings-bar{
  margin-top:auto;padding:9px 12px;border-radius:12px;
  color:var(--fg);cursor:pointer;display:flex;align-items:center;gap:8px;
  font-size:14px;border:1px solid #e2e8f0;position:relative;
  transition: background-color .2s ease, box-shadow .2s ease, border-color .2s ease;
  background:#fff;
}
.settings-bar:hover{background:#f8fafc;box-shadow:0 4px 10px rgba(15,23,42,0.06);}
.settings-menu{
  position:absolute;bottom:calc(100% + 8px);left:0;
  background:#fff;border:1px solid #e2e8f0;border-radius:12px;
  width:200px;padding:12px;display:none;box-shadow:0 12px 28px rgba(15,23,42,0.12);
}
.settings-bar:focus .settings-menu,
.settings-bar:focus-within .settings-menu{display:block;}
.settings-menu h3{
  color:var(--muted);font-size:12px;text-transform:uppercase;margin:0 0 8px;font-weight:600;
}
.theme-options{display:flex;flex-direction:column;gap:4px;}
.theme-option{
  padding:8px 12px;border-radius:var(--radius);cursor:pointer;
  display:flex;align-items:center;gap:8px;transition: all .2s ease;
}
.theme-option:hover{background:var(--border);}
.theme-option.active{background:var(--accent);color:#fff;}
.foot{margin-top:auto;color:#9fb0d8;font-size:12px}

/* Sidebar Toggle */
.sidebar-toggle{
  position:absolute;top:10px;right:8px;background:transparent;
  border:1px solid var(--border);color:var(--muted);
  padding:6px 8px;border-radius:6px;cursor:pointer;
  transition: transform .3s ease, background-color .2s ease, color .2s ease;
}
.sidebar-toggle:hover{background:var(--border);color:var(--fg);}

/* Collapsed state works from html OR body (pre-paint or runtime) */
:where(html.sidebar-collapsed, body.sidebar-collapsed){
  --sidebar-width:64px;
  --content-scale: 27.50; /* 2750% collapsed */
}
:where(html.sidebar-collapsed, body.sidebar-collapsed) .sidebar{ width:var(--sidebar-width); }
:where(html.sidebar-collapsed, body.sidebar-collapsed) .logo span{ display:none; }
:where(html.sidebar-collapsed, body.sidebar-collapsed) .sidebar nav a{ justify-content:center;padding:10px; }
:where(html.sidebar-collapsed, body.sidebar-collapsed) .sidebar nav a span{ display:none; }
:where(html.sidebar-collapsed, body.sidebar-collapsed) .sidebar-toggle{ transform:rotate(180deg); }
:where(html.sidebar-collapsed, body.sidebar-collapsed) .settings-bar{ padding:8px 6px; }
:where(html.sidebar-collapsed, body.sidebar-collapsed) .settings-bar .settings-menu{ left:64px; }

/* --------------------------------------------------
   Main
-------------------------------------------------- */
.main{
  padding:24px;
  background:#f6f8fb;
  width: calc((var(--content-scale) * 100%) - var(--sidebar-width));
  margin-left: var(--sidebar-width);
  min-height:100vh;
  overflow-y:auto;
  transition:
    margin-left .25s ease,
    width .25s ease,
    opacity .18s ease,
    transform .18s ease;
  position:relative;
  z-index:1;
  background:
    radial-gradient(120% 120% at 10% 10%, rgba(111,231,192,0.05), transparent 50%),
    radial-gradient(120% 120% at 90% 0%, rgba(126,195,255,0.07), transparent 55%),
    linear-gradient(180deg, rgba(15,23,42,0.8), rgba(9,12,22,0.95));
  border-left: 1px solid color-mix(in srgb, var(--border) 70%, transparent);
}

.page{width:100%;max-width:none;}
.page .header{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px;}
.page h1{font-size:28px;letter-spacing:.2px;}
.page .header p{color:var(--muted);margin:6px 0 0;}
.btn{
  background:linear-gradient(135deg, var(--accent), color-mix(in srgb, var(--accent-2) 60%, var(--accent) 40%));
  color:#041017;
  text-decoration:none;
  padding:9px 14px;
  border-radius:12px;
  font-weight:700;
  border:1px solid color-mix(in srgb, var(--accent) 60%, var(--accent-2) 40%);
  box-shadow:0 10px 24px rgba(0,0,0,0.25);
  cursor:pointer;
  transition: transform .15s ease, box-shadow .15s ease, filter .15s ease;
}
.btn:hover{filter:brightness(1.05);transform:translateY(-1px);}
.btn:active{transform:translateY(0);}

/* --------------------------------------------------
   KPI, Grid, Cards
-------------------------------------------------- */
.kpi-grid{
  display:grid;grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
  gap:12px;margin-bottom:20px;width:100%;padding:0 4px;
}
.tile{
  background: linear-gradient(145deg, color-mix(in srgb, var(--card) 92%, rgba(255,255,255,0.02)), color-mix(in srgb, var(--card) 96%, rgba(111,231,192,0.05)));
  border:1px solid var(--border);
  border-radius:var(--radius);
  padding:16px;
  box-shadow:0 10px 24px rgba(0,0,0,0.22), inset 0 1px 0 rgba(255,255,255,0.02);
}
.kpi-card{
  background: linear-gradient(180deg, color-mix(in srgb, var(--card) 92%, rgba(126,195,255,0.08)), color-mix(in srgb, var(--card) 96%, rgba(111,231,192,0.04)));
  border:1px solid color-mix(in srgb, var(--border) 80%, transparent);
  border-radius:var(--radius);
  padding:14px 16px;display:flex;flex-direction:column;justify-content:center;min-height:90px;
  box-shadow:0 10px 26px rgba(0,0,0,0.22);
}
.kpi-label{font-size:12px;color:var(--muted);margin-bottom:6px}
.kpi-value{font-size:22px;font-weight:800;color:var(--accent)}
.grid-2{display:grid;grid-template-columns:1fr 1fr;gap:16px;width:100%;padding:0 4px;}
.card{
  background:var(--card);border:1px solid var(--border);border-radius:var(--radius);
  padding:14px;min-width:0;
}
.panel-title{font-weight:700;margin-bottom:8px}
.tile-title{color:var(--muted);font-size:12px;text-transform:uppercase;letter-spacing:.5px;margin-bottom:6px}
.tile-value{color:var(--accent);font-size:24px;font-weight:800}
.tile-value.neg{color:var(--neg)}
.spark{height:44px}

/* --------------------------------------------------
   Charts
-------------------------------------------------- */
#equity,#daily{width:100% !important;min-height:360px;}
.js-plotly-plot{width:100% !important;min-width:0 !important;}
.card.chart-card{min-height:400px;}

/* --------------------------------------------------
   Panels / Tables / Forms
-------------------------------------------------- */
.grid{display:grid;grid-template-columns:1fr 1fr;gap:24px;margin:24px 0;}
.grid.widgets{grid-template-columns:1fr 1fr;}
.panel{background:var(--card);border:1px solid var(--border);border-radius:var(--radius);padding:20px;width:100%;}
.table-wrap{overflow:auto;background:var(--card);border:1px solid var(--border);border-radius:var(--radius);margin-top:16px;width:100%;}
table{width:100%;border-collapse:collapse;}
th,td{padding:12px 16px;border-bottom:1px solid var(--border);font-size:13px;}
th{text-align:left;color:var(--muted);font-weight:700;text-transform:uppercase;font-size:11px;letter-spacing:.6px;background:color-mix(in srgb, var(--card) 94%, rgba(255,255,255,0.02));}
td.num{text-align:right}
a.link{color:#2563eb;text-decoration:none}
a.link:hover{text-decoration:underline}
form.card{display:flex;gap:12px;align-items:end;background:var(--card);border:1px solid var(--border);border-radius:12px;padding:12px;margin-bottom:12px}
form.card .filters div{display:flex;flex-direction:column}
input[type=text],input[type=date]{background:var(--card);border:1px solid var(--border);border-radius:10px;color:var(--fg);padding:8px 10px}

/* Inputs / selects */
input, select, textarea {
  background: color-mix(in srgb, var(--card) 92%, rgba(255,255,255,0.02));
  color: var(--fg);
  border:1px solid color-mix(in srgb, var(--border) 80%, transparent);
  border-radius: 12px;
  padding: 10px 12px;
  font-family: inherit;
  transition: border-color .15s ease, box-shadow .15s ease, background .15s ease;
}
input:focus, select:focus, textarea:focus{
  outline:none;
  border-color: color-mix(in srgb, var(--accent) 60%, var(--accent-2) 40%);
  box-shadow:0 0 0 3px color-mix(in srgb, var(--accent) 14%, transparent);
}

/* Subtle table row hover */
tbody tr:hover{background: color-mix(in srgb, var(--card) 90%, rgba(111,231,192,0.05));}

/* Pills / chips */
.pill, .chip, .tag{
  display:inline-flex;align-items:center;gap:6px;
  padding:6px 10px;
  border-radius:999px;
  border:1px solid color-mix(in srgb, var(--border) 80%, transparent);
  background: color-mix(in srgb, var(--card) 90%, rgba(255,255,255,0.02));
  color: var(--muted);
  font-size:12px;
}
.chip.accent, .pill.accent, .tag.accent{
  border-color: color-mix(in srgb, var(--accent) 70%, transparent);
  background: color-mix(in srgb, var(--accent) 12%, var(--card));
  color: #03120f;
  font-weight:700;
}

/* --------------------------------------------------
   Calendar
-------------------------------------------------- */
.year-grid{display:grid;grid-template-columns:repeat(auto-fit, minmax(350px, 1fr));gap:16px}
.month-card{background:var(--card);border:1px solid var(--border);border-radius:var(--radius);padding:18px}
.month-card .title{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}
.month-card .mini{display:grid;grid-template-columns:repeat(7,1fr);gap:4px;font-size:12px;color:var(--muted)}
.month-card .mini .d{height:20px;display:flex;align-items:center;justify-content:center;border-radius:6px;border:1px solid transparent}
.month-card .mini .d.haspl.pos{background:rgba(16,185,129,.15);border-color:rgba(16,185,129,.25)}
.month-card .mini .d.haspl.neg{background:rgba(239,68,68,.15);border-color:rgba(239,68,68,.25)}
.calendar{background:var(--card);border:1px solid var(--border);border-radius:var(--radius);padding:16px}
.calendar.wide{padding:14px;border-radius:14px;}
.cal-head{display:grid;grid-template-columns:repeat(7,1fr);gap:4px;color:var(--muted);margin-bottom:8px;font-size:12px;text-transform:uppercase}
.calendar.wide .cal-head{grid-template-columns:repeat(8,1fr);}
.cal-body{display:grid;grid-template-columns:repeat(7,1fr);gap:4px}
.calendar.wide .cal-body{grid-template-columns:repeat(8,1fr);}
.week-col{color:var(--accent);font-weight:800;}
.day{
  min-height:100px;border:1px solid var(--border);
  border-radius:var(--radius);padding:8px;
  display:flex;flex-direction:column;gap:4px;font-size:13px
}
.day .num{color:var(--muted);font-weight:600}

/* P/L text (no bubble) */
.day .pl{
  margin-top:auto;font-weight:800;font-size:16px;
  background:none;border:none;padding:0;
}
.day .pl.pos{color:var(--pos)}
.day .pl.neg{color:var(--neg)}
.day .pl:not(.pos):not(.neg){color:var(--muted)}

/* Calendar trades links (light gray, no underline, all states) */
.calendar a,
.calendar a:link,
.calendar a:visited,
.calendar a:active,
.cal-body .day a,
.cal-body .day a:link,
.cal-body .day a:visited,
.cal-body .day a:active,
.cal-body .day .trades {
  color: #9ca3af !important;
  text-decoration: none !important;
  font-weight: 500;
}
.calendar a:hover,
.cal-body .day a:hover,
.cal-body .day .trades:hover {
  color: #cbd5e1 !important;
  text-decoration: none !important;
}

.week-total{
  border:1px solid color-mix(in srgb, var(--accent) 30%, var(--border));
  border-radius:12px;
  padding:12px 10px;
  background: linear-gradient(180deg, color-mix(in srgb, var(--accent) 10%, #fff), #fff);
  display:flex;
  flex-direction:column;
  gap:6px;
  justify-content:center;
  box-shadow:0 6px 14px rgba(15,23,42,0.08);
  min-height:100px;
}
.week-title{font-weight:800;font-size:13px;color:var(--fg);}
.week-amount{font-weight:800;font-size:17px;}
.week-trades{font-size:12px;color:var(--muted);}

/* --------------------------------------------------
   Page transition styles (no jolt when collapsed)
-------------------------------------------------- */
/* During page fade, disable layout transitions to prevent lateral movement */
body.page-anim .main,
body.page-anim .sidebar {
  transition: none !important;
}
/* Fade in/out content only */
body.page-enter .main { opacity: 0; transform: translateY(6px); }
body.page-enter-active .main { opacity: 1; transform: none; }
body.page-leave .main { opacity: 0; transform: translateY(6px); }
/* In collapsed mode, avoid transforms to prevent sub-pixel wobble */
:where(html.sidebar-collapsed, body.sidebar-collapsed).page-enter .main,
:where(html.sidebar-collapsed, body.sidebar-collapsed).page-leave .main {
  transform: none;
}
/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
  .main { transition: none !important; }
  body.page-enter .main,
  body.page-leave .main { opacity: 1; transform: none; }
}

/* --------------------------------------------------
   Responsive
-------------------------------------------------- */
@media (max-width:1600px){.kpi-grid{grid-template-columns:repeat(3,1fr)}}
@media (max-width:1200px){
  .kpi-grid{grid-template-columns:repeat(2,1fr)}
  .grid{grid-template-columns:1fr}
  .grid.widgets{grid-template-columns:1fr}
}
@media (max-width:768px){
  .main{width:100%;margin-left:0;padding:20px;}
  .sidebar{display:none;}
  .kpi-grid{grid-template-columns:1fr}
}

/* --- Signed amount coloring (global helpers) --- */
.pos { color: #10b981 !important; }
.neg { color: #ef4444 !important; }

.kpi-value,
.tile-value { color: var(--fg) !important; }
.kpi-value.pos,
.tile-value.pos,
.day .pl.pos { color: #10b981 !important; }
.kpi-value.neg,
.tile-value.neg,
.day .pl.neg { color: #ef4444 !important; }

.amount, .money, td.num { color: var(--fg); }
.amount.pos, .money.pos, td.num.pos  { color: #10b981 !important; }
.amount.neg, .money.neg, td.num.neg  { color: #ef4444 !important; }

/* ------ Execution triangle overlay for trade detail chart (no text) ------ */
.exec-overlay {
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 3;                /* ensure triangles sit above canvas */
}

/* Base triangle node */
.exec-tri {
  position: absolute;
  width: 0; height: 0;
  transform: translate(-50%, -50%);
  /* subtle edge to keep visible over any candle color */
  filter: drop-shadow(0 0 1px rgba(0,0,0,.45));
}

/* BUY: right-pointing */
.exec-tri.buy {
  border-top: 6px solid transparent;
  border-bottom: 6px solid transparent;
  border-left: 10px solid var(--exec-buy);
  opacity: .98;
}

/* SELL: left-pointing */
.exec-tri.sell {
  border-top: 6px solid transparent;
  border-bottom: 6px solid transparent;
  border-right: 10px solid var(--exec-sell);
  opacity: .98;
}

/* Optional: softer color for partial fills (JS can add .partial) */
.exec-tri.partial.buy  { border-left-color: var(--exec-partial); }
.exec-tri.partial.sell { border-right-color: var(--exec-partial); }

/* Optional: size variants (JS can add .sm or .lg when qty differs) */
.exec-tri.sm.buy   { border-top-width: 5px; border-bottom-width: 5px; border-left-width: 8px;  }
.exec-tri.sm.sell  { border-top-width: 5px; border-bottom-width: 5px; border-right-width: 8px; }
.exec-tri.lg.buy   { border-top-width: 7px; border-bottom-width: 7px; border-left-width: 12px; }
.exec-tri.lg.sell  { border-top-width: 7px; border-bottom-width: 7px; border-right-width: 12px; }

/* ==================================================
   LABEL SYSTEM (environment/workspace + brand skin)
   Use: <html data-label="live|sim|dev|test|demo|brand">
================================================== */

/* Base badge (you can show in header/sidebar) */
.label-pill{
  display:inline-flex;align-items:center;gap:6px;
  height:22px;padding:0 8px;border-radius:999px;
  font-size:11px;font-weight:700;letter-spacing:.3px;
  text-transform:uppercase;user-select:none;
  border:1px solid var(--border); background:var(--card); color:var(--muted);
}

/* Palette for common labels */
:root{
  --label-live:  #16a34a;   /* green   */
  --label-sim:   #0ea5e9;   /* blue    */
  --label-dev:   #a855f7;   /* purple  */
  --label-test:  #f59e0b;   /* amber   */
  --label-demo:  #ef4444;   /* red     */
}

/* Pills you can render statically */
.label-pill.live  { border-color: color-mix(in srgb, var(--label-live) 40%, transparent);
  background: color-mix(in srgb, var(--label-live) 10%, var(--card));  color: var(--label-live); }
.label-pill.sim   { border-color: color-mix(in srgb, var(--label-sim) 40%, transparent);
  background: color-mix(in srgb, var(--label-sim) 10%, var(--card));   color: var(--label-sim); }
.label-pill.dev   { border-color: color-mix(in srgb, var(--label-dev) 40%, transparent);
  background: color-mix(in srgb, var(--label-dev) 10%, var(--card));   color: var(--label-dev); }
.label-pill.test  { border-color: color-mix(in srgb, var(--label-test) 40%, transparent);
  background: color-mix(in srgb, var(--label-test) 10%, var(--card));  color: var(--label-test); }
.label-pill.demo  { border-color: color-mix(in srgb, var(--label-demo) 40%, transparent);
  background: color-mix(in srgb, var(--label-demo) 10%, var(--card));  color: var(--label-demo); }

/* Global re-skin by label */
html[data-label="live"], body[data-label="live"]{
  --accent: var(--label-live);
  --exec-buy: var(--label-live);
  --exec-sell:#ef4444;
}
html[data-label="sim"], body[data-label="sim"]{
  --accent: var(--label-sim);
  --exec-buy: var(--label-sim);
  --exec-sell:#f23645;
}
html[data-label="dev"], body[data-label="dev"]{
  --accent: var(--label-dev);
  --exec-buy: var(--label-dev);
  --exec-sell:#ef5350;
}
html[data-label="test"], body[data-label="test"]{
  --accent: var(--label-test);
}
html[data-label="demo"], body[data-label="demo"]{
  --accent: var(--label-demo);
}

/* Brand skin (uses your orange mark) */
html[data-label="brand"], body[data-label="brand"]{
  --accent: var(--brand);
  --exec-buy: var(--brand);
  --exec-sell:#ef5350;
}
.label-pill.brand{
  border-color: color-mix(in srgb, var(--brand) 40%, transparent);
  background: color-mix(in srgb, var(--brand) 12%, var(--card));
  color: var(--brand);
}

/* Thin top stripeâ€”great global cue for the active label */
.label-stripe{
  position:fixed;inset:0 0 auto 0;height:3px;
  background:var(--accent);z-index:999;pointer-events:none;
}

/* Strengthen accent use in common components */
.sidebar nav a.active{ background: color-mix(in srgb, var(--accent) 18%, var(--border)); color: var(--fg); }
.btn{ background: var(--accent); }
.kpi-value, .tile-value{ color: var(--accent) !important; }
/* --------------------------------------------------
   Brand Logo (TradeJournal)
-------------------------------------------------- */
.brand-logo {
  height: 14px;               /* increase this from 14px */
  width:  14px;
  border-radius: 6px;
  object-fit: contain;
  margin-right: 6px;
  transition: transform .2s ease;
}

.brand-logo:hover {
  transform: scale(1.1);
}
/* --- Sidebar logo sizing --- */
.sidebar .logo{
  display:flex;align-items:center;gap:10px;
  min-height:48px; /* gives it breathing room */
}

.sidebar .logo img.brandmark{
  /* bump the size here */
  width: 40px;
  height: 40px;
  border-radius: 10px;
  object-fit: contain;
}

@media (max-width: 1200px){
  .sidebar .logo img.brandmark{ width:36px; height:36px; }
}

/* collapsed sidebar: keep it readable */
:where(html.sidebar-collapsed, body.sidebar-collapsed) .sidebar .logo{
  justify-content:center;
}
:where(html.sidebar-collapsed, body.sidebar-collapsed) .sidebar .logo img.brandmark{
  width:28px;height:28px;border-radius:8px;
}
/* ---------- Top-right brand chip ---------- */
.top-brand{
  position: fixed;
  top: 10px;
  right: 16px;
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 6px 10px;
  border-radius: 12px;
  background: var(--card);
  color: var(--fg);
  border: 1px solid var(--border);
  text-decoration: none;
  font-weight: 800;
  letter-spacing: .2px;
  z-index: 1100;               /* above page/header widgets */
  box-shadow: 0 2px 6px rgba(0,0,0,.08);
}

.top-brand:hover { filter: brightness(1.05); }

.top-brand__img{
  width: 24px;
  height: 24px;
  border-radius: 6px;
  object-fit: contain;
}

.top-brand__text{ font-size: 14px; line-height: 1; }
.top-brand__text .accent{ color: var(--accent); }

/* keep clear of Import button on small screens */
@media (max-width: 900px){
  .top-brand{ right: 10px; top: 8px; padding: 5px 8px; }
  .top-brand__img{ width: 20px; height: 20px; }
  .top-brand__text{ font-size: 13px; }
}

/* when sidebar is collapsed, nothing to change since it's fixed,
   but if you want it tighter: */
:where(html.sidebar-collapsed, body.sidebar-collapsed) .top-brand{
  right: 12px;
}
